!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={deltaTime:.016,objects:[],layers:[],gravity:.5,addCanvas:function(e,t,n){var r=document.createElement("canvas");n&&(r.id=n),r.width=e,r.height=t},addObject:function(e){console.log(e),this.objects.push(e)},render:function(){for(var e=this,t=0;t<this.objects.length;t++)this.objects[t].render();window.requestAnimationFrame((function(){e.render()}))}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(0);window.onload=function(){var e=document.getElementById("c");e.width=screen.width/2,e.height=screen.height/1.5;var t=e.getContext("2d");new r.default(30,40,20,20,t,100);o.default.render()}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),s=n(4),c=n(0),u=function(e){function t(t,n,r,o,i,s){var c=e.call(this,t,n,i)||this;return c.w=r,c.h=o,c.life=s,c.speed_x=0,c.speed_y=0,window.addEventListener("keydown",(function(e){c.handleKeyDown(e)})),window.addEventListener("keyup",(function(e){c.handleKeyUp(e)})),c}return o(t,e),t.prototype.handleKeyDown=function(e){e&&s.default.eventHanlderDown(e,this)},t.prototype.handleKeyUp=function(e){e&&s.default.eventHanlderUp(e,this)},t.prototype.render=function(){s.default.clearRect(this.x,this.y,this.w,this.h,this.ctx),this.move(this.speed_x*c.default.gravity,this.speed_y*c.default.gravity),console.log(this.x,this.y),s.default.drawRect(this.x,this.y,this.w,this.h,this.ctx,"black")},t}(i.default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(e,t,n){this.x=e,this.y=t,this.ctx=n,r.default.addObject(this)}return e.prototype.move=function(e,t){this.x+=e,this.y-=t},e.prototype.addSprite=function(e){this.sprite=e},e.prototype.getPosition=function(){return{x:this.x,y:this.y}},e.prototype.render=function(){},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={eventHanlderDown:function(e,t){switch(e.key){case"ArrowUp":t.speed_x=0,t.speed_y=10;break;case"ArrowDown":t.speed_x=0,t.speed_y=-10;break;case"ArrowLeft":t.speed_x=-10,t.speed_y=0;break;case"ArrowRight":t.speed_x=10,t.speed_y=0}},eventHanlderUp:function(e,t){switch(e.key){case"ArrowUp":t.speed_y>0&&(t.speed_y=0);break;case"ArrowLeft":t.speed_x<0&&(t.speed_x=0);break;case"ArrowRight":t.speed_x>0&&(t.speed_x=0);break;case"ArrowDown":t.speed_y<0&&(t.speed_y=0)}},drawRect:function(e,t,n,r,o,i){null==i?o.fillRect(e,t,n,r):(o.fillStyle=i,o.fillRect(e,t,n,r))},clearRect:function(e,t,n,r,o){o.clearRect(e,t,n,r)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvZ2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9wbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvZW50aXR5LnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3V0aWxzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZ2FtZSIsImRlbHRhVGltZSIsIm9iamVjdHMiLCJsYXllcnMiLCJncmF2aXR5IiwiYWRkQ2FudmFzIiwidyIsImgiLCJpZCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiYWRkT2JqZWN0Iiwib2JqIiwiY29uc29sZSIsImxvZyIsInRoaXMiLCJwdXNoIiwicmVuZGVyIiwiX3RoaXMiLCJsZW5ndGgiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkZWZhdWx0IiwicGxheWVyXzEiLCJnYW1lXzEiLCJvbmxvYWQiLCJnZXRFbGVtZW50QnlJZCIsInNjcmVlbiIsImN0eCIsImdldENvbnRleHQiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfXyIsImNvbnN0cnVjdG9yIiwiZW50aXR5XzEiLCJ1dGlsc18xIiwiUGxheWVyIiwiX3N1cGVyIiwieCIsInkiLCJsaWZlIiwic3BlZWRfeCIsInNwZWVkX3kiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImhhbmRsZUtleURvd24iLCJoYW5kbGVLZXlVcCIsImV2ZW50IiwiZXZlbnRIYW5sZGVyRG93biIsImV2ZW50SGFubGRlclVwIiwiY2xlYXJSZWN0IiwibW92ZSIsImRyYXdSZWN0IiwiRW50aXR5IiwiYWRkU3ByaXRlIiwicGF0aCIsInNwcml0ZSIsImdldFBvc2l0aW9uIiwicGxheWVyIiwiY29sb3IiLCJmaWxsUmVjdCIsImZpbGxTdHlsZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtB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Q0RnQixFQUFPakIsUUFBVSxHQUNqQmlCLEVBQU9oQixRQUFVLElBSTdCTyxlQUFnQixTQUFVRixFQUFPVyxHQUM3QixPQUFRWCxFQUFNL0QsS0FDVixJQUFLLFVBQ0cwRSxFQUFPaEIsUUFBVSxJQUNqQmdCLEVBQU9oQixRQUFVLEdBQ3JCLE1BQ0osSUFBSyxZQUNHZ0IsRUFBT2pCLFFBQVUsSUFDakJpQixFQUFPakIsUUFBVSxHQUNyQixNQUNKLElBQUssYUFDR2lCLEVBQU9qQixRQUFVLElBQ2pCaUIsRUFBT2pCLFFBQVUsR0FDckIsTUFDSixJQUFLLFlBQ0dpQixFQUFPaEIsUUFBVSxJQUNqQmdCLEVBQU9oQixRQUFVLEtBSWpDVSxTQUFVLFNBQVVkLEVBQUdDLEVBQUd4QyxFQUFHQyxFQUFHd0IsRUFBS21DLEdBQ3BCLE1BQVRBLEVBQ0FuQyxFQUFJb0MsU0FBU3RCLEVBQUdDLEVBQUd4QyxFQUFHQyxJQUd0QndCLEVBQUlxQyxVQUFZRixFQUNoQm5DLEVBQUlvQyxTQUFTdEIsRUFBR0MsRUFBR3hDLEVBQUdDLEtBRzlCa0QsVUFBVyxTQUFVWixFQUFHQyxFQUFHeEMsRUFBR0MsRUFBR3dCLEdBQzdCQSxFQUFJMEIsVUFBVVosRUFBR0MsRUFBR3hDLEVBQUdDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGdhbWUgPSB7XHJcbiAgICAvL0dsb2JhbCBnYW1lIG9iamVjdHNcclxuICAgIC8vU3RpbGwgaGF2ZSB0byBmaW5kIGEgZ29vZCB3YXkgdG8gaW1wbGVtZW50IHBoeXNpY3NcclxuICAgIGRlbHRhVGltZTogMC4wMTYsXHJcbiAgICBvYmplY3RzOiBbXSxcclxuICAgIGxheWVyczogW10sXHJcbiAgICBncmF2aXR5OiAwLjUsXHJcbiAgICAvL0FkZCBjYW52YXMgd2l0aCBhIGdpdmVuIGlkLCB3aWR0aCBhbmQgaGVpZ2h0O1xyXG4gICAgYWRkQ2FudmFzOiBmdW5jdGlvbiAodywgaCwgaWQpIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBpZiAoaWQpXHJcbiAgICAgICAgICAgIGNhbnZhcy5pZCA9IGlkO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHc7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGg7XHJcbiAgICB9LFxyXG4gICAgYWRkT2JqZWN0OiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cob2JqKTtcclxuICAgICAgICB0aGlzLm9iamVjdHMucHVzaChvYmopO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzW2ldLnJlbmRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGdhbWU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBwbGF5ZXJfMSA9IHJlcXVpcmUoXCIuL3NjcmlwdHMvcGxheWVyXCIpO1xyXG52YXIgZ2FtZV8xID0gcmVxdWlyZShcIi4vc2NyaXB0cy9nYW1lXCIpO1xyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY1wiKTtcclxuICAgIGNhbnZhcy53aWR0aCA9IHNjcmVlbi53aWR0aCAvIDI7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gc2NyZWVuLmhlaWdodCAvIDEuNTtcclxuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgdmFyIHBsYXllciA9IG5ldyBwbGF5ZXJfMS5kZWZhdWx0KDMwLCA0MCwgMjAsIDIwLCBjdHgsIDEwMCk7XHJcbiAgICBnYW1lXzEuZGVmYXVsdC5yZW5kZXIoKTtcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBlbnRpdHlfMSA9IHJlcXVpcmUoXCIuL2VudGl0eVwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcclxudmFyIGdhbWVfMSA9IHJlcXVpcmUoXCIuL2dhbWVcIik7XHJcbnZhciBQbGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGxheWVyKHgsIHksIHcsIGgsIGN0eCwgbGlmZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHgsIHksIGN0eCkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy53ID0gdztcclxuICAgICAgICBfdGhpcy5oID0gaDtcclxuICAgICAgICBfdGhpcy5saWZlID0gbGlmZTtcclxuICAgICAgICBfdGhpcy5zcGVlZF94ID0gMDtcclxuICAgICAgICBfdGhpcy5zcGVlZF95ID0gMDtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlS2V5RG93bihlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUtleVVwKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFBsYXllci5wcm90b3R5cGUuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudCkge1xyXG4gICAgICAgICAgICB1dGlsc18xLmRlZmF1bHQuZXZlbnRIYW5sZGVyRG93bihldmVudCwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFBsYXllci5wcm90b3R5cGUuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5kZWZhdWx0LmV2ZW50SGFubGRlclVwKGV2ZW50LCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUGxheWVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdXRpbHNfMS5kZWZhdWx0LmNsZWFyUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgsIHRoaXMuY3R4KTtcclxuICAgICAgICB0aGlzLm1vdmUodGhpcy5zcGVlZF94ICogZ2FtZV8xLmRlZmF1bHQuZ3Jhdml0eSwgdGhpcy5zcGVlZF95ICogZ2FtZV8xLmRlZmF1bHQuZ3Jhdml0eSk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHV0aWxzXzEuZGVmYXVsdC5kcmF3UmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgsIHRoaXMuY3R4LCBcImJsYWNrXCIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5ZXI7XHJcbn0oZW50aXR5XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBQbGF5ZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBnYW1lXzEgPSByZXF1aXJlKFwiLi9nYW1lXCIpO1xyXG52YXIgRW50aXR5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLy9TZXRzIGVudGl0eSBwb3NpdGlvbiBpbiBnaXZlbiBjYW52YXMgY29udGV4dFxyXG4gICAgZnVuY3Rpb24gRW50aXR5KHgsIHksIGN0eCkge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgICAgICBnYW1lXzEuZGVmYXVsdC5hZGRPYmplY3QodGhpcyk7XHJcbiAgICB9XHJcbiAgICAvL1RoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIEFMV0FZUyBiZXR3ZWVlbiBhIGNsZWFyIGFuZCBhIGRyYXcgY3ljbGUsIHRvIG5vdFxyXG4gICAgLy9oYXZlIHdlaXJkIHRoaW5ncyBoYXBwZW5pbmdcclxuICAgIEVudGl0eS5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy54ICs9IHg7XHJcbiAgICAgICAgdGhpcy55IC09IHk7XHJcbiAgICB9O1xyXG4gICAgLy9TdGlsbCBkb2Vzbid0IHdvcmssIHNlYXJjaGluZyBmb3IgYSBnb29kIGFwcHJvYWNoIFxyXG4gICAgRW50aXR5LnByb3RvdHlwZS5hZGRTcHJpdGUgPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gcGF0aDtcclxuICAgIH07XHJcbiAgICBFbnRpdHkucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMueCxcclxuICAgICAgICAgICAgeTogdGhpcy55XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKnVwZGF0ZSgpe1xyXG4gICAgICB0aGlzLnggKz0geDtcclxuICAgICAgdGhpcy55ICs9IHk7XHJcbiAgfSovXHJcbiAgICBFbnRpdHkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRW50aXR5O1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBFbnRpdHk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB1dGlscyA9IHtcclxuICAgIGV2ZW50SGFubGRlckRvd246IGZ1bmN0aW9uIChldmVudCwgcGxheWVyKSB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICAgICAgY2FzZSBcIkFycm93VXBcIjpcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcGVlZF94ID0gMDtcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcGVlZF95ID0gMTA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwZWVkX3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwZWVkX3kgPSAtMTA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwZWVkX3ggPSAtMTA7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3BlZWRfeSA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcGVlZF94ID0gMTA7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3BlZWRfeSA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZXZlbnRIYW5sZGVyVXA6IGZ1bmN0aW9uIChldmVudCwgcGxheWVyKSB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICAgICAgY2FzZSBcIkFycm93VXBcIjpcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuc3BlZWRfeSA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNwZWVkX3kgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuc3BlZWRfeCA8IDApXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNwZWVkX3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLnNwZWVkX3ggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zcGVlZF94ID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLnNwZWVkX3kgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zcGVlZF95ID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkcmF3UmVjdDogZnVuY3Rpb24gKHgsIHksIHcsIGgsIGN0eCwgY29sb3IpIHtcclxuICAgICAgICBpZiAoY29sb3IgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgdywgaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCB3LCBoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY2xlYXJSZWN0OiBmdW5jdGlvbiAoeCwgeSwgdywgaCwgY3R4KSB7XHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCh4LCB5LCB3LCBoKTtcclxuICAgIH1cclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gdXRpbHM7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=